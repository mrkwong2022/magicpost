import{$ as e,a6 as a,u as l,a as s,c as t,V as o,v as d,o as u,d as i,e as r,f as n,K as b,a5 as c,M as m,g as w,l as p,J as v,i as h,t as _,k as f,w as g,F as y,h as k,j as V,S as q,a8 as x,P as j,a9 as U,bF as M,a3 as z,a4 as H,aa as E}from"./wbs-CbbGGF9c.js";import{E as S,a as B,_ as C}from"./GeneralForm-C8LWseM4.js";import{a as L,E as A}from"./el-tab-pane-7c8paWZP.js";/* empty css                          */import{E as F,c as O}from"./el-radio-jqbfmBTq.js";import{E as P}from"./el-link-DgJrFxMx.js";import{a as T,E as D}from"./el-checkbox-t6DShoFv.js";import{E as G}from"./el-switch-Bk0fvxZC.js";import"./el-popper-aeiKbmSs.js";import"./el-select-Dy7NI8A6.js";import"./strings-lvuBHTJ0.js";import"./index-DJzQTYa5.js";const I={class:"wbs-content"},J={class:"wbs-main"},K={key:0,class:"table-wp"},R={class:"opt-function-hd"},$={class:"func-name"},N=["innerHTML"],Q={class:"mt"},W={class:"ml ib"},X={class:"ml ib"},Y={key:1},Z={class:"block wbb-option-remark"},ee={class:"preview-box info",style:{position:"relative",width:"100%"}},ae={class:"dwqr-inner"},le={key:0,class:"wb-btn-dwqr"},se={key:1,class:"wb-btn-dwqr"},te={key:2,class:"wb-btn-dwqr"},oe={key:3,class:"wb-btn-dwqr"},de={class:"wbs-form-table-sub wbs-form-table"},ue={key:0},ie={class:"row w8em"},re={class:"theme-name"},ne={class:"theme-demo"},be=["src"],ce={key:1},me={class:"row w8em"},we={key:2},pe={class:"row w8em"},ve={"aria-hidden":"true",style:{position:"absolute",width:"0",height:"0",overflow:"hidden"},version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},he=e({__name:"Share",setup(e){const he=a(),{wbsCnf:_e}=l(),{wb_e:fe}=s(_e),ge=t(0),ye=t(!1);t({});const ke=t(_e.is_pro),Ve=o({}),qe=o({}),xe=t("donate");function je(e){const a={op:"dwqr_update",opt:qe};z.saveData(a).then((a=>{E.success(fe("设置保存成功")),ge.value=0,e&&e()}))}return d(qe,(()=>{ge.value++}),{deep:!0}),u((()=>{z.getData({op:"dwqr_setting"}).then((e=>{Object.assign(Ve,e.cnf),Object.assign(qe,e.opt),H((()=>{ge.value=0})),ye.value=!0}))})),(e,a)=>{const l=G,s=T,t=S,o=P,d=O,u=F,z=D,H=B,E=A,Ue=L,Me=C,ze=x,He=U,Ee=i("wbs-ctrl-bar"),Se=c;return n(),r("div",I,[b((n(),r("div",{class:m(["wbs-content-inner",{"wb-page-loaded":ye.value}])},[w("div",J,[ye.value?(n(),r("div",K,[w("div",R,[w("h3",$,[w("strong",null,_(Ve.label),1)]),w("div",{class:"func-desc",innerHTML:Ve.description},null,8,N),w("div",Q,[h(l,{modelValue:qe.dwqr_switch,"onUpdate:modelValue":a[0]||(a[0]=e=>qe.dwqr_switch=e),"active-value":"1","inactive-value":"0"},null,8,["modelValue"]),w("span",W,_("1"==qe.switch?f(fe)("功能开启"):f(fe)("功能关闭")),1)])]),h(Me,{modelValue:qe,"onUpdate:modelValue":a[6]||(a[6]=e=>qe=e),fields:Ve.fields,wb_e:f(fe)},{custom:g((({field:e})=>["dwqr_module"==e.slug?(n(),p(t,{key:0,"data-slug":e.slug,label:e.label},{default:g((()=>[(n(!0),r(y,null,k(e.attrs.items,(e=>(n(),p(s,{key:e.slug,modelValue:qe.dwqr_module[e.slug],"onUpdate:modelValue":a=>qe.dwqr_module[e.slug]=a,"true-value":e.attrs["true-value"],"false-value":e.attrs["false-value"]},{default:g((()=>[V(_(e.label),1)])),_:2},1032,["modelValue","onUpdate:modelValue","true-value","false-value"])))),128))])),_:2},1032,["data-slug","label"])):v("",!0),"tabbar_switch"==e.slug?(n(),p(t,{key:1,"data-slug":e.slug},{label:g((()=>[w("span",null,[V(_(e.label),1),a[7]||(a[7]=w("i",{class:"tag-pro"},"Pro",-1))])])),default:g((()=>[ke.value?(n(),r(y,{key:0},[h(l,{modelValue:qe.tabbar_switch,"onUpdate:modelValue":a[1]||(a[1]=e=>qe.tabbar_switch=e),"active-value":"1","inactive-value":"0"},null,8,["modelValue"]),w("span",X,_("1"==qe.tabbar_switch?f(fe)("功能开启"):f(fe)("功能关闭")),1)],64)):(n(),r("div",Y,[h(o,{type:"primary",onClick:a[2]||(a[2]=e=>{he.push("/pro")})},{default:g((()=>[V(_(f(fe)("激活PRO版本")),1)])),_:1}),w("div",Z,_(f(fe)("* TabBar(标签栏)仅适用移动端，仅在启用了分享组件的文章详情中出现。分享按钮在微信显示提示弹窗，在普通浏览器中将调用浏览器自身分享功能。")),1)]))])),_:2},1032,["data-slug"])):v("",!0),"preview"==e.slug?(n(),p(t,{key:2,label:e.label},{default:g((()=>[w("div",ee,[w("div",{class:m(["demo-post-detail",{"style-a":0==qe.dwqr_module_position,"style-b":1==qe.dwqr_module_position}])},_(f(fe)("文章内容")),3),w("div",{class:m({"wbp-cbm":0==qe.dwqr_module_position,"wbp-dwqr-sticky":1==qe.dwqr_module_position}),style:q("--dwqr-theme:"+qe.theme_color)},[w("div",ae,["1"==qe.dwqr_module.donate?(n(),r("a",le,[a[8]||(a[8]=w("svg",{class:"wb-icon wbsico-donate"},[w("use",{"xlink:href":"#wbsico-donate"})],-1)),w("span",null,_(f(fe)("打赏")),1)])):v("",!0),"1"==qe.dwqr_module.like?(n(),r("a",se,[a[9]||(a[9]=w("svg",{class:"wb-icon wbsico-like"},[w("use",{"xlink:href":"#wbsico-like"})],-1)),w("span",null,_(f(fe)("赞(0)")),1)])):v("",!0),"1"==qe.dwqr_module.poster?(n(),r("a",te,[a[10]||(a[10]=w("svg",{class:"wb-icon wbsico-share"},[w("use",{"xlink:href":"#wbsico-poster"})],-1)),w("span",null,_(f(fe)("微海报")),1)])):v("",!0),"1"==qe.dwqr_module.share?(n(),r("a",oe,[a[11]||(a[11]=w("svg",{class:"wb-icon wbsico-share"},[w("use",{"xlink:href":"#wbsico-share"})],-1)),w("span",null,_(f(fe)("分享")),1)])):v("",!0)])],6)])])),_:2},1032,["label"])):v("",!0),"item_setting"==e.slug?(n(),p(t,{key:3,label:e.label,class:"with-sub-group"},{default:g((()=>[h(Ue,{class:"custom-opt-pane",type:"border-card",modelValue:xe.value,"onUpdate:modelValue":a[5]||(a[5]=e=>xe.value=e)},{default:g((()=>[(n(!0),r(y,null,k(e.attrs.items,(e=>(n(),p(E,{key:e.slug,label:e.label,name:e.slug},{default:g((()=>[w("table",de,[w("tbody",null,[(n(!0),r(y,null,k(e.fields,(e=>(n(),r(y,{key:e.slug},["poster_theme"==e.slug?(n(),r("tr",ue,[w("th",ie,_(e.label),1),w("td",null,[h(u,{modelValue:qe.poster_theme,"onUpdate:modelValue":a[3]||(a[3]=e=>qe.poster_theme=e),class:"poster-themes"},{default:g((()=>[(n(!0),r(y,null,k(e.attrs.items,((e,a)=>(n(),p(d,{key:"theme"+a,value:a},{default:g((()=>[w("span",re,_(e.label),1),w("div",ne,[w("img",{src:f(_e).dir_url+"assets/preview/dwq_theme_"+(1*a+1)+".png"},null,8,be)])])),_:2},1032,["value"])))),128))])),_:2},1032,["modelValue"])])])):"share_ways"==e.slug?(n(),r("tr",ce,[w("th",me,_(e.label),1),w("td",null,[h(z,{modelValue:qe.share_ways,"onUpdate:modelValue":a[4]||(a[4]=e=>qe.share_ways=e)},{default:g((()=>[(n(!0),r(y,null,k(Ve.share_items_api,((e,a)=>(n(),p(s,{key:"share_item"+a,value:e.value,label:e.label},null,8,["value","label"])))),128))])),_:1},8,["modelValue"])])])):(n(),r("tr",we,[w("th",pe,_(e.label),1),w("td",null,[h(H,{modelValue:qe[e.slug],"onUpdate:modelValue":a=>qe[e.slug]=a,field:e,wb_e:f(fe)},null,8,["modelValue","onUpdate:modelValue","field","wb_e"])])]))],64)))),128))])])])),_:2},1032,["label","name"])))),128))])),_:2},1032,["modelValue"])])),_:2},1032,["label"])):v("",!0)])),_:1},8,["modelValue","fields","wb_e"])])):v("",!0),b(h(ze,{class:"mt"},null,512),[[j,ye.value]])]),f(_e).is_pro?v("",!0):(n(),p(He,{key:0})),h(Ee,{changed:ge.value,wb_e:f(fe),onSubmit:je},null,8,["changed","wb_e"])],2)),[[Se,!ye.value]]),(n(),r("svg",ve,a[12]||(a[12]=[M('<defs data-v-bfeb5949><symbol id="wbsico-donate" viewBox="0 0 9 18" data-v-bfeb5949><path fill-rule="evenodd" d="M5.63 8.1V4.61c.67.23 1.12.9 1.12 1.58S7.2 7.3 7.88 7.3 9 6.86 9 6.2a3.8 3.8 0 0 0-3.38-3.83V1.12C5.63.45 5.17 0 4.5 0S3.37.45 3.37 1.12v1.24A3.8 3.8 0 0 0 0 6.2C0 8.55 1.8 9.45 3.38 9.9v3.49c-.68-.23-1.13-.9-1.13-1.58S1.8 10.7 1.12 10.7 0 11.14 0 11.8a3.8 3.8 0 0 0 3.38 3.83v1.24c0 .67.45 1.12 1.12 1.12s1.13-.45 1.13-1.12v-1.24A3.88 3.88 0 0 0 9 11.8c0-2.36-1.8-3.26-3.38-3.7zM2.25 6.19c0-.79.45-1.35 1.13-1.58v2.93c-.8-.34-1.13-.68-1.13-1.35zm3.38 7.2v-2.93c.78.34 1.12.68 1.12 1.35 0 .79-.45 1.35-1.13 1.58z" data-v-bfeb5949></path></symbol><symbol id="wbsico-like" viewBox="0 0 16 16" data-v-bfeb5949><path fill-rule="evenodd" d="M13.3 6H9V2c0-1.5-.8-2-2-2-.3 0-.6.2-.6.5L4 8v8h8.6c1.3 0 2.4-1 2.6-2.3l.8-4.6c.1-.8-.1-1.6-.6-2.1-.5-.7-1.3-1-2.1-1M0 8h2v8H0z" data-v-bfeb5949></path></symbol><symbol id="wbsico-share" viewBox="0 0 14 16" data-v-bfeb5949><path fill-rule="evenodd" d="M11 6a3 3 0 1 0-3-2.4L5 5.6A3 3 0 0 0 3 5a3 3 0 0 0 0 6 3 3 0 0 0 1.9-.7l3.2 2-.1.7a3 3 0 1 0 3-3 3 3 0 0 0-1.9.7L6 8.7a3 3 0 0 0 0-1.3l3.2-2A3 3 0 0 0 11 6" data-v-bfeb5949></path></symbol><symbol id="wbsico-poster" viewBox="0 0 16 16" data-v-bfeb5949><path fill-rule="evenodd" d="M14 0a2 2 0 012 2v12a2 2 0 01-2 2H2a2 2 0 01-2-2V2C0 .9.9 0 2 0h12zm0 2H2v12h12V2zm-6 9a1 1 0 110 2 1 1 0 010-2zm5-8v7H3V3h10z" data-v-bfeb5949></path></symbol></defs>',1)])))])}}},[["__scopeId","data-v-bfeb5949"]]);export{he as default};
