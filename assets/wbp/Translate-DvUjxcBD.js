import{u as a,a as s,a6 as e,c as l,V as t,o,a1 as i,v as n,d as u,e as c,f as r,K as p,a5 as d,M as m,g as v,l as b,J as g,t as f,i as w,k as _,w as h,j as k,a7 as y,F as j,h as V,a8 as x,P as O,a9 as P,a3 as C,a4 as M,aa as R}from"./wbs-CbbGGF9c.js";import{E as T,_ as D}from"./GeneralForm-C8LWseM4.js";import{E}from"./el-switch-Bk0fvxZC.js";import"./el-popper-aeiKbmSs.js";import"./el-radio-jqbfmBTq.js";/* empty css                          */import"./el-checkbox-t6DShoFv.js";import"./el-select-Dy7NI8A6.js";import"./strings-lvuBHTJ0.js";const F={class:"wbs-content"},H={class:"wbs-main"},L={class:"opt-function-hd"},U={class:"func-name"},G=["innerHTML"],J={key:0,class:"mt"},K={class:"ml ib"},S={key:1,class:"mt"},q={class:"ml"},z={key:0,class:"setting-box"},A={key:0,style:{"max-height":"400px","overflow-y":"auto"}},B={key:1,class:"wk"},I={__name:"Translate",setup(I){const{wbsCnf:N}=a(),{wb_e:Q}=s(N),W=e(),X=l(0),Y=l(!1),Z=l(N.is_pro),$=t({}),aa=t({});l("google");const sa=l([]);function ea(a){const s={op:"translate_update",opt:$};C.saveData(s).then((s=>{R.success(Q("设置保存成功")),X.value=0,a&&a()}))}function la(){W.push("/pro")}return o((()=>{N.is_pro&&i(((a,s)=>{a?(N.is_pro=a,Z.value=a):(Z.value=0,N.is_pro=0)})),C.getData({op:"translate_setting"}).then((a=>{Object.assign($,a.opt),Object.assign(aa,a.cnf),a.data&&(sa.value=a.data),M((()=>{X.value=0})),Y.value=!0}))})),n($,(()=>{X.value++}),{deep:!0}),(a,s)=>{const e=E,l=y,t=T,o=D,i=x,n=P,C=u("wbs-ctrl-bar"),M=d;return r(),c("div",F,[p((r(),c("div",{class:m(["wbs-content-inner",{"wb-page-loaded":Y.value}])},[v("div",H,[v("div",L,[v("h3",U,[v("strong",null,f(aa.label),1),s[4]||(s[4]=v("i",{class:"tag-pro"},"Pro",-1))]),v("div",{class:"func-desc",innerHTML:aa.description},null,8,G),Z.value?(r(),c("div",J,[w(e,{modelValue:$.switch,"onUpdate:modelValue":s[0]||(s[0]=a=>$.switch=a),"active-value":"1","inactive-value":"0"},null,8,["modelValue"]),v("span",K,f("1"==$.switch?_(Q)("功能开启"):_(Q)("功能关闭")),1)])):(r(),c("div",S,[w(l,{type:"primary",onClick:s[1]||(s[1]=a=>la())},{default:h((()=>[k(f(_(Q)("获取PRO版本")),1)])),_:1}),v("span",q,f(_(Q)("仅PRO版本可用")),1)]))]),Y.value?(r(),c("div",z,[w(o,{modelValue:$,"onUpdate:modelValue":s[2]||(s[2]=a=>$=a),fields:aa.fields,wb_e:_(Q)},{custom:h((({field:a})=>["log-list"==a.type?(r(),b(t,{key:0,"data-slug":a.slug,label:a.label,class:m({"with-sub-group":a.group})},{default:h((()=>[sa.value&&sa.value.length?(r(),c("ul",A,[(r(!0),c(j,null,V(sa.value,((a,s)=>(r(),c("li",{key:"err-li-"+s},f(a),1)))),128))])):(r(),c("p",B,f(_(Q)("(暂无)")),1))])),_:2},1032,["data-slug","label","class"])):g("",!0)])),_:1},8,["modelValue","fields","wb_e"])])):g("",!0),p(w(i,{class:"mt"},null,512),[[O,Y.value]])]),_(N).is_pro?g("",!0):(r(),b(n,{key:0})),Z.value?(r(),b(C,{key:1,changed:X.value,wb_e:_(Q),onSubmit:ea},null,8,["changed","wb_e"])):(r(),b(C,{key:2},{default:h((()=>[w(l,{type:"primary",onClick:s[3]||(s[3]=a=>la())},{default:h((()=>[k(f(_(Q)("获取PRO版本")),1)])),_:1})])),_:1}))],2)),[[M,!Y.value]])])}}};export{I as default};
