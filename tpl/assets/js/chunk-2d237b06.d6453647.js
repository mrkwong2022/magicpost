(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d237b06"],{fbd8:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"wbs-content"},[s("div",{directives:[{name:"loading",rawName:"v-loading",value:!t.isLoaded,expression:"!isLoaded"}],staticClass:"wbs-content-inner",class:{"wb-page-loaded":t.isLoaded}},[s("div",{staticClass:"wbs-main"},[t.isLoaded?s("div",{staticClass:"table-wp"},[s("table",{staticClass:"wbs-form-table"},[s("tr",[s("th",[t._v("功能开关")]),s("td",{staticClass:"info"},[s("el-switch",{attrs:{"active-value":"1","inactive-value":"0"},model:{value:t.opt.dwqr_switch,callback:function(e){t.$set(t.opt,"dwqr_switch",e)},expression:"opt.dwqr_switch"}}),s("span",{staticClass:"ml"},[t._v("功能已"+t._s(1==t.opt.dwqr_switch?"开启":"关闭"))])],1)]),s("tr",[s("th",{staticClass:"row w8em"},[t._v("选择组件")]),s("td",{staticClass:"info"},[s("el-checkbox",{attrs:{"true-label":"1","false-label":"0"},model:{value:t.opt.dwqr_module.donate,callback:function(e){t.$set(t.opt.dwqr_module,"donate",e)},expression:"opt.dwqr_module.donate"}},[t._v(" 打赏")]),s("el-checkbox",{attrs:{"true-label":"1","false-label":"0"},model:{value:t.opt.dwqr_module.like,callback:function(e){t.$set(t.opt.dwqr_module,"like",e)},expression:"opt.dwqr_module.like"}},[t._v(" 点赞")]),s("el-checkbox",{attrs:{"true-label":"1","false-label":"0"},model:{value:t.opt.dwqr_module.poster,callback:function(e){t.$set(t.opt.dwqr_module,"poster",e)},expression:"opt.dwqr_module.poster"}},[t._v(" 微海报")]),s("el-checkbox",{attrs:{"true-label":"1","false-label":"0"},model:{value:t.opt.dwqr_module.share,callback:function(e){t.$set(t.opt.dwqr_module,"share",e)},expression:"opt.dwqr_module.share"}},[t._v(" 分享")])],1)]),s("tr",[t._m(0),t.isPro?s("td",{staticClass:"info"},[s("el-switch",{attrs:{"active-value":"1","inactive-value":"0"},model:{value:t.opt.tabbar_switch,callback:function(e){t.$set(t.opt,"tabbar_switch",e)},expression:"opt.tabbar_switch"}}),s("span",{staticClass:"ml"},[t._v("已"+t._s(1==t.opt.tabbar_switch?"开启":"关闭"))]),s("div",{staticClass:"description mt"},[t._v("温馨提示：TabBar(标签栏)仅适用移动端，仅在启用了分享组件的文章详情中出现。可因应主题特点选择是否启用。")])],1):s("td",{staticClass:"info"},[t._v(" 温馨提示：TabBar(标签栏)仅适用移动端，仅在启用了分享组件的文章详情中出现。分享按钮在微信显示提示弹窗，在普通浏览器中将调用浏览器自身分享功能。 "),s("el-link",{attrs:{type:"link"},on:{click:function(e){return t.doActivePro()}}},[t._v("激活PRO版本")]),t._v("启用。 ")],1)]),s("tr",[s("th",{staticClass:"row"},[t._v("配色方案")]),s("td",[s("el-color-picker",{attrs:{"show-alpha":"",predefine:t.cnf.theme_color},model:{value:t.opt.theme_color,callback:function(e){t.$set(t.opt,"theme_color",e)},expression:"opt.theme_color"}})],1)]),s("tr",[s("th",{staticClass:"row"},[t._v("展示位置")]),s("td",{staticClass:"info"},[s("el-radio",{attrs:{label:"0"},model:{value:t.opt.dwqr_module.position,callback:function(e){t.$set(t.opt.dwqr_module,"position",e)},expression:"opt.dwqr_module.position"}},[t._v("文章底部")]),s("el-radio",{attrs:{label:"1"},model:{value:t.opt.dwqr_module.position,callback:function(e){t.$set(t.opt.dwqr_module,"position",e)},expression:"opt.dwqr_module.position"}},[t._v("文章左侧悬浮")]),s("div",{staticClass:"description mt"},[t._v(" 温馨提示：选择在文章左侧位置展示，可能会受主题的结构/样式影响导致不可见或悬浮失效，插件无法做到全部兼容。故请根据实际效果选择适合的展示位置。 ")])],1)]),s("tr",[s("th",{staticClass:"row"},[t._v("样式预览")]),s("td",[s("div",{staticClass:"preview-box info",staticStyle:{position:"relative"}},[s("div",{staticClass:"demo-post-detail",class:{"style-a":0==t.opt.dwqr_module.position,"style-b":1==t.opt.dwqr_module.position}},[t._v(" 文章内容 ")]),s("div",{class:{"wbp-cbm":0==t.opt.dwqr_module.position,"wbp-dwqr-sticky":1==t.opt.dwqr_module.position},style:"--dwqr-theme:"+t.opt.theme_color},[s("div",{staticClass:"dwqr-inner"},["1"==t.opt.dwqr_module.donate?s("a",{staticClass:"wb-btn-dwqr"},[s("svg",{staticClass:"wb-icon wbsico-donate"},[s("use",{attrs:{"xlink:href":"#wbsico-donate"}})]),s("span",[t._v("打赏")])]):t._e(),"1"==t.opt.dwqr_module.like?s("a",{staticClass:"wb-btn-dwqr"},[s("svg",{staticClass:"wb-icon wbsico-like"},[s("use",{attrs:{"xlink:href":"#wbsico-like"}})]),s("span",[t._v("赞(0)")])]):t._e(),"1"==t.opt.dwqr_module.poster?s("a",{staticClass:"wb-btn-dwqr"},[s("svg",{staticClass:"wb-icon wbsico-share"},[s("use",{attrs:{"xlink:href":"#wbsico-poster"}})]),s("span",[t._v("微海报")])]):t._e(),"1"==t.opt.dwqr_module.share?s("a",{staticClass:"wb-btn-dwqr"},[s("svg",{staticClass:"wb-icon wbsico-share"},[s("use",{attrs:{"xlink:href":"#wbsico-share"}})]),s("span",[t._v("分享")])]):t._e()])])])])])]),"1"==t.opt.dwqr_module.donate?s("h4",{staticClass:"sc-title-sub"},[s("span",[t._v("打赏二维码设置")])]):t._e(),"1"==t.opt.dwqr_module.donate?s("table",{staticClass:"wbs-form-table"},t._l(t.opt.items,(function(e,a){return s("tr",{key:"qr"+a},[s("th",{staticClass:"row w8em"},[t._v(t._s(e.name)+"收款二维码")]),s("td",[s("wbs-upload-box",{model:{value:e.img,callback:function(s){t.$set(e,"img",s)},expression:"v.img"}}),s("p",{staticClass:"description"},[t._v(" * 请上传1:1尺寸规格的"+t._s(e.name)+"收款二维码图片，"),s("a",{attrs:{href:"https://www.wbolt.com/how-to-get-wechat-and-alipay-qr-code.html","data-wba-campaign":"Setting-Des-txt",target:"_blank"}},[t._v("如何获取"+t._s(e.name)+"收款二维码")]),t._v("？ ")])],1)])})),0):t._e(),"1"==t.opt.dwqr_module.poster?s("h4",{staticClass:"sc-title-sub"},[s("span",[t._v("微海报设置")])]):t._e(),"1"==t.opt.dwqr_module.poster?s("table",{staticClass:"wbs-form-table"},[s("tr",[s("th",{staticClass:"row w8em"},[t._v("站点logo图片")]),s("td",[s("wbs-upload-box",{model:{value:t.opt.logo_url,callback:function(e){t.$set(t.opt,"logo_url",e)},expression:"opt.logo_url"}}),s("p",{staticClass:"description"},[t._v(" * 请上传站点的logo图片，用于微海报生成。 ")])],1)]),s("tr",[s("th",{staticClass:"row"},[t._v("海报默认图")]),s("td",[s("wbs-upload-box",{model:{value:t.opt.cover_url,callback:function(e){t.$set(t.opt,"cover_url",e)},expression:"opt.cover_url"}}),s("p",{staticClass:"description"},[t._v(" * 当文章没有特色图及其他图片时，会使用默认图作为海报头图。建议选择与如下设定的海报比例一致的图片。 ")])],1)]),t._e(),s("tr",[s("th",{staticClass:"row"},[t._v("微海报样式")]),s("td",[s("el-radio-group",{staticClass:"poster-themes",model:{value:t.opt.poster_theme,callback:function(e){t.$set(t.opt,"poster_theme",e)},expression:"opt.poster_theme"}},t._l(t.cnf.poster_theme,(function(e,a){return s("el-radio",{key:"theme"+a,attrs:{label:a+""}},[s("span",{staticClass:"theme-name"},[t._v(" "+t._s(e.name)+" ")]),s("div",{staticClass:"theme-demo"},[s("img",{attrs:{src:t.wb_cnf.dir_url+"assets/preview/dwq_theme_"+(1*a+1)+".png"}})])])})),1)],1)])]):t._e()]):t._e(),s("wb-prompt",{directives:[{name:"show",rawName:"v-show",value:t.isLoaded,expression:"isLoaded"}],staticClass:"mt"})],1),t.$cnf.is_pro?t._e():s("wbs-more-sources"),s("wbs-ctrl-bar",{on:{submit:t.updateData}})],1)])},o=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("th",{staticClass:"w8em"},[t._v("TabBar "),s("i",{staticClass:"tag-pro"},[t._v("Pro")])])}],l={name:"MagicPostShare",components:{},data(){const t=this;return{wb_cnf:t.$cnf,formChanged:0,isLoaded:!1,tooltips:{},isPro:t.$cnf.is_pro,cnf:{},opt:{}}},created(){this.loadData()},methods:{loadData(){const t=this;t.$api.getData({_ajax_nonce:t.$cnf._ajax_nonce,action:t.$cnf.action.act,op:"dwqr_setting"}).then(e=>{t.cnf=e["cnf"],t.opt=e["opt"],t.$nextTick(()=>{t.formChanged=1}),t.isLoaded=!0})},updateData(t){const e=this,s={_ajax_nonce:e.$cnf._ajax_nonce,action:e.$cnf.action.act,op:"dwqr_update",opt:e.opt};e.$api.saveData(s).then(s=>{e.$wbui.toast("设置保存成功"),e.formChanged=1,t&&t()})}},watch:{opt:{handler(){this.formChanged++},deep:!0}},beforeRouteLeave(t,e,s){const a=this;a.formChanged>1?a.$wbui.open({content:"您修改的设置尚未保存，确定离开此页面吗？",btn:["保存并离开","放弃修改"],yes(){return s(!1),a.updateData((function(){s()})),!1},no(){return s(),!1}}):s()}},i=l,r=s("2877"),c=Object(r["a"])(i,a,o,!1,null,null,null);e["default"]=c.exports}}]);